# ğŸ—ï¸ System Architecture Diagram

## Complete System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER'S BROWSER                               â”‚
â”‚                      http://localhost:3000                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    REACT FRONTEND                            â”‚   â”‚
â”‚  â”‚                  (Vite + TypeScript)                         â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚   Pages      â”‚  â”‚  Components  â”‚  â”‚   Stores     â”‚     â”‚   â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚  (Zustand)   â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ - Landing    â”‚  â”‚ - Header     â”‚  â”‚ - Auth       â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ - Login      â”‚  â”‚ - Sidebar    â”‚  â”‚ - User       â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ - Dashboard  â”‚  â”‚ - Results    â”‚  â”‚ - Assessment â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ - Assessment â”‚  â”‚ - Treatment  â”‚  â”‚ - System     â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚              Services Layer                           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   Firebase   â”‚         â”‚   API        â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   Service    â”‚         â”‚   Service    â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚              â”‚         â”‚   (Axios)    â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - login()    â”‚         â”‚ - get()      â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - logout()   â”‚         â”‚ - post()     â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - getToken() â”‚         â”‚ - put()      â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                       â”‚
                        â”‚ HTTP Requests         â”‚ Authentication
                        â”‚ (with JWT Token)      â”‚ (Google OAuth)
                        â”‚                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                           â”‚   â”‚                  â”‚
        â”‚   DJANGO BACKEND          â”‚   â”‚   FIREBASE       â”‚
        â”‚   http://localhost:8000   â”‚   â”‚   (Cloud)        â”‚
        â”‚                           â”‚   â”‚                  â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚   API Endpoints     â”‚  â”‚   â”‚  â”‚ Auth       â”‚ â”‚
        â”‚  â”‚                     â”‚  â”‚   â”‚  â”‚ Service    â”‚ â”‚
        â”‚  â”‚ /api/health/        â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚  â”‚ /api/status/        â”‚  â”‚   â”‚                  â”‚
        â”‚  â”‚ /api/user/profile/  â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚ /api/assess/        â”‚  â”‚   â”‚  â”‚ Firestore  â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚ Database   â”‚ â”‚
        â”‚                           â”‚   â”‚  â”‚            â”‚ â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚ - users/   â”‚ â”‚
        â”‚  â”‚   Agents            â”‚  â”‚   â”‚  â”‚ - assess/  â”‚ â”‚
        â”‚  â”‚                     â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚  â”‚ - Orchestrator      â”‚  â”‚   â”‚                  â”‚
        â”‚  â”‚ - Predictor         â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚  â”‚ - Explanation       â”‚  â”‚            â”‚
        â”‚  â”‚ - Validation        â”‚  â”‚            â”‚
        â”‚  â”‚ - Extraction        â”‚  â”‚            â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚            â”‚
        â”‚                           â”‚            â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚            â”‚
        â”‚  â”‚   Services          â”‚  â”‚            â”‚
        â”‚  â”‚                     â”‚  â”‚            â”‚
        â”‚  â”‚ - Firebase Auth     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚  â”‚ - Firebase DB       â”‚  â”‚
        â”‚  â”‚ - Gemini Client     â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ API Calls
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
        â”‚   GOOGLE GEMINI AI    â”‚
        â”‚   (Cloud)             â”‚
        â”‚                       â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  Gemini Pro     â”‚  â”‚
        â”‚  â”‚  Model          â”‚  â”‚
        â”‚  â”‚                 â”‚  â”‚
        â”‚  â”‚ - Explanations  â”‚  â”‚
        â”‚  â”‚ - Extraction    â”‚  â”‚
        â”‚  â”‚ - Validation    â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagrams

### 1. User Login Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. Click "Login with Google"
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend       â”‚
â”‚  LoginPage      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 2. firebaseService.loginWithGoogle()
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firebase Auth  â”‚
â”‚  (Google OAuth) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 3. Returns ID Token
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend       â”‚
â”‚  authStore      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 4. Store token in localStorage
     â”‚ 5. Redirect to /app/dashboard
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard      â”‚
â”‚  Page           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. API Request Flow (Authenticated)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. View Dashboard
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard      â”‚
â”‚  Component      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 2. useEffect: fetchSystemStatus()
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  systemStore    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 3. apiService.getSystemStatus()
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Service    â”‚
â”‚  (Axios)        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 4. Add Authorization: Bearer <token>
     â”‚ 5. GET http://localhost:8000/api/status/
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Django         â”‚
â”‚  Backend        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 6. Validate token with Firebase
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firebase       â”‚
â”‚  Admin SDK      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 7. Token valid âœ“
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Django View    â”‚
â”‚  /api/status/   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 8. Return system status JSON
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend       â”‚
â”‚  systemStore    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 9. Update state
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard      â”‚
â”‚  Re-renders     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Health Assessment Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. Enter symptoms
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Assessment     â”‚
â”‚  Form           â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 2. Submit assessment
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  assessmentStoreâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 3. POST /api/health/analyze/
     â”‚    { symptoms: [...], age: 30, gender: "male" }
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Django         â”‚
â”‚  Backend        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 4. Orchestrator Agent
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validation     â”‚
â”‚  Agent          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 5. Validate input with Gemini AI
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gemini AI      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 6. Validation result
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Predictor      â”‚
â”‚  Agent          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 7. ML Model prediction
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Explanation    â”‚
â”‚  Agent          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 8. Generate explanation with Gemini AI
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gemini AI      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 9. AI-generated explanation
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Recommendation â”‚
â”‚  Agent          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 10. Generate treatment recommendations
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firebase       â”‚
â”‚  Firestore      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 11. Save assessment
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Django         â”‚
â”‚  Response       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 12. Return complete assessment
     â”‚     { condition, risk, confidence, treatment, ... }
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend       â”‚
â”‚  Results Page   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 13. Display results
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â”‚  Views   â”‚
â”‚  Results â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Interaction Map

### Frontend Components

```
App.tsx
  â”‚
  â”œâ”€ Router
  â”‚   â”‚
  â”‚   â”œâ”€ LandingPage
  â”‚   â”‚
  â”‚   â”œâ”€ LoginPage
  â”‚   â”‚   â””â”€ LoginForm
  â”‚   â”‚       â””â”€ GoogleAuthButton
  â”‚   â”‚
  â”‚   â””â”€ ProtectedRoute
  â”‚       â”‚
  â”‚       â””â”€ AppLayout
  â”‚           â”‚
  â”‚           â”œâ”€ Header (with user menu)
  â”‚           â”‚
  â”‚           â”œâ”€ Sidebar (navigation)
  â”‚           â”‚
  â”‚           â””â”€ Outlet (child routes)
  â”‚               â”‚
  â”‚               â”œâ”€ DashboardPage
  â”‚               â”‚   â”œâ”€ SystemStatus
  â”‚               â”‚   â”œâ”€ RecentAssessments
  â”‚               â”‚   â””â”€ QuickActions
  â”‚               â”‚
  â”‚               â”œâ”€ NewAssessmentPage
  â”‚               â”‚   â””â”€ AssessmentStepper
  â”‚               â”‚       â”œâ”€ SymptomInput
  â”‚               â”‚       â”œâ”€ DemographicForm
  â”‚               â”‚       â”œâ”€ VitalsForm
  â”‚               â”‚       â””â”€ ReviewStep
  â”‚               â”‚
  â”‚               â”œâ”€ AssessmentResultsPage
  â”‚               â”‚   â”œâ”€ RiskOverview
  â”‚               â”‚   â”œâ”€ ConfidenceMeter
  â”‚               â”‚   â”œâ”€ RiskDrivers
  â”‚               â”‚   â”œâ”€ DataQualityScore
  â”‚               â”‚   â”œâ”€ AIInterpretation
  â”‚               â”‚   â”œâ”€ DisclaimerBanner
  â”‚               â”‚   â””â”€ TreatmentTabs
  â”‚               â”‚       â”œâ”€ AllopathyPanel
  â”‚               â”‚       â”œâ”€ AyurvedaPanel
  â”‚               â”‚       â”œâ”€ HomeopathyPanel
  â”‚               â”‚       â””â”€ LifestylePanel
  â”‚               â”‚
  â”‚               â”œâ”€ AssessmentHistoryPage
  â”‚               â”‚   â”œâ”€ AssessmentTimeline
  â”‚               â”‚   â”œâ”€ HistoryFilters
  â”‚               â”‚   â””â”€ RiskTrendChart
  â”‚               â”‚
  â”‚               â””â”€ ProfilePage
  â”‚                   â”œâ”€ ProfileView
  â”‚                   â””â”€ ProfileForm
  â”‚
  â””â”€ NotificationCenter (global)
```

### Backend Structure

```
health_ai_backend/
  â”‚
  â”œâ”€ api/
  â”‚   â”œâ”€ views.py (API endpoints)
  â”‚   â”œâ”€ urls.py (URL routing)
  â”‚   â”œâ”€ serializers.py (data validation)
  â”‚   â””â”€ throttling.py (rate limiting)
  â”‚
  â”œâ”€ agents/
  â”‚   â”œâ”€ orchestrator.py (main coordinator)
  â”‚   â”œâ”€ validation.py (input validation)
  â”‚   â”œâ”€ recommendation.py (treatment suggestions)
  â”‚   â”œâ”€ explanation.py (AI explanations)
  â”‚   â””â”€ data_extraction.py (report parsing)
  â”‚
  â”œâ”€ prediction/
  â”‚   â”œâ”€ predictor.py (ML predictions)
  â”‚   â””â”€ ml/
  â”‚       â”œâ”€ model.py (PyTorch model)
  â”‚       â”œâ”€ inference.py (prediction logic)
  â”‚       â””â”€ preprocessing.py (data prep)
  â”‚
  â”œâ”€ common/
  â”‚   â”œâ”€ firebase_auth.py (authentication)
  â”‚   â”œâ”€ firebase_db.py (Firestore)
  â”‚   â””â”€ gemini_client.py (AI client)
  â”‚
  â””â”€ treatment/
      â””â”€ knowledge_base.py (treatment data)
```

---

## Technology Stack

### Frontend
- **Framework**: React 18
- **Language**: TypeScript
- **Build Tool**: Vite
- **State Management**: Zustand
- **Routing**: React Router v6
- **UI Library**: Material-UI (MUI)
- **HTTP Client**: Axios
- **Forms**: React Hook Form + Zod
- **Charts**: Recharts
- **Testing**: Vitest + React Testing Library

### Backend
- **Framework**: Django 4.2
- **API**: Django REST Framework
- **Language**: Python 3.8+
- **ML**: PyTorch
- **Database**: Firebase Firestore
- **Authentication**: Firebase Admin SDK
- **AI**: Google Gemini API
- **Rate Limiting**: Django Throttling

### Cloud Services
- **Firebase**: Authentication + Firestore
- **Gemini AI**: Explanations + Extraction
- **Hosting**: (To be configured)

---

## Port Configuration

| Service | Port | URL |
|---------|------|-----|
| Frontend Dev Server | 3000 | http://localhost:3000 |
| Backend API | 8000 | http://localhost:8000 |
| API Documentation | 8000 | http://localhost:8000/api/docs/ |
| Django Admin | 8000 | http://localhost:8000/admin/ |

---

## Environment Variables

### Frontend (.env)
```
VITE_API_BASE_URL=http://localhost:8000
VITE_FIREBASE_API_KEY=...
VITE_FIREBASE_AUTH_DOMAIN=...
VITE_FIREBASE_PROJECT_ID=...
VITE_FIREBASE_STORAGE_BUCKET=...
VITE_FIREBASE_MESSAGING_SENDER_ID=...
VITE_FIREBASE_APP_ID=...
```

### Backend (.env)
```
DJANGO_SECRET_KEY=...
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1
FIREBASE_CREDENTIALS_PATH=firebase-credentials.json
GEMINI_API_KEY=...
CORS_ALLOWED_ORIGINS=http://localhost:3000
```

---

## Security Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  1. HTTPS (Production)                                    â”‚
â”‚     â””â”€ All traffic encrypted                              â”‚
â”‚                                                            â”‚
â”‚  2. Firebase Authentication                               â”‚
â”‚     â”œâ”€ Google OAuth                                       â”‚
â”‚     â”œâ”€ JWT Tokens                                         â”‚
â”‚     â””â”€ Token validation on every request                  â”‚
â”‚                                                            â”‚
â”‚  3. CORS Protection                                       â”‚
â”‚     â””â”€ Only localhost:3000 allowed in dev                 â”‚
â”‚                                                            â”‚
â”‚  4. Rate Limiting                                         â”‚
â”‚     â”œâ”€ Authenticated: 10/min, 100/hr, 200/day            â”‚
â”‚     â””â”€ Anonymous: 5/hr                                    â”‚
â”‚                                                            â”‚
â”‚  5. Input Validation                                      â”‚
â”‚     â”œâ”€ Frontend: React Hook Form + Zod                   â”‚
â”‚     â”œâ”€ Backend: DRF Serializers                          â”‚
â”‚     â””â”€ AI: Gemini validation                             â”‚
â”‚                                                            â”‚
â”‚  6. Firestore Security Rules                             â”‚
â”‚     â””â”€ User can only access own data                     â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Next Steps

1. âœ… Review this architecture
2. âœ… Run `.\start-all.ps1`
3. âœ… Test the connection
4. âœ… Start implementing features

See `QUICK_START.md` for immediate next steps!
